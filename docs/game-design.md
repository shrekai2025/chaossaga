# ChaosSaga - AI驱动文字冒险游戏设计文档

## 一、世界观设定

### 1.1 背景故事

**平行宇宙**
- 类似现实宇宙的平行世界，但存在魔法和明确的力量体系
- 人类与众多强大种族共存
- 强者可跨越星空，出现在任何星球

**起源星球**
- 类似地球的星球
- 所有生物从海洋发源，经漫长进化成为强大存在
- 力量体系也从海洋开始

### 1.2 力量体系（11大境界）

| 境界名称 | 战力范围 | 特点 |
|---------|---------|------|
| 海洋级 | 1-1000 | 起源之力，与水元素共鸣 |
| 陆地级 | 1K-5K | 踏足大地，掌控土石 |
| 荒芜级 | 5K-20K | 适应极端环境，意志坚韧 |
| 行星级 | 20K-100K | 影响一颗星球的力量 |
| 恒星级 | 100K-1M | ⭐跨星球统一叫法开始 |
| 银河级 | 1M-50M | 星系级别的存在 |
| 超越级 | 50M-500M | 超越常规法则 |
| 洪荒级 | 500M-5B | 远古之力觉醒 |
| 空灵级 | 5B-100B | 虚空行走，灵魂升华 |
| 元初级 | 100B+ | 回归本源，创世之力 |

> 注：每个星球的力量体系叫法不同，但恒星级以上统一命名

---

## 二、玩家系统

### 2.1 玩家初始化

**基础信息**
- 名字：玩家自定义
- 种族：人类（初始）/ 其他种族（后期解锁）
- 背景：与海洋的联系程度（影响初始技能和奇遇概率）

**初始设定参考**
- 主角是人类小女孩，与海洋有着特殊联系
- 海洋级时奇遇概率大幅提升
- 可获得成长型海兽召唤物

### 2.2 玩家属性

```python
class PlayerStatus:
    # 基础属性
    hp: int              # 血量
    mp: int              # 魔法量
    current_hp: int      # 当前血量
    current_mp: int      # 当前魔法量

    # 境界
    realm: str           # 当前境界
    realm_progress: int  # 境界进度 (0-100%)

    # 环境信息（用于关卡生成）
    location: str        # 地理位置
    weather: str         # 天气
    time_of_day: str     # 时间
    season: str          # 季节
```

---

## 三、技能系统

### 3.1 技能分类

**主动技能** - 消耗MP释放
- 梦幻冲击 - 精神系攻击，造成眩晕
- 投石术 - 土系远程攻击
- 冰箭术 - 冰系单体伤害，减速效果
- 地震术 - 土系范围伤害
- 暗影箭 - 暗系穿透攻击
- 千年乌鱼 - 召唤古老海兽攻击
- 节气召唤 - 根据当前季节召唤不同效果
- 巨大化 - 增大体型，提升攻防
- 石化 - 控制技能，使敌人石化

**场地技能** - 改变战场环境
- 海洋洗刷刷 - 召唤海浪清洗战场，对敌人持续伤害

**被动技能** - 永久生效
- 接触大海法力无边 - 在水域附近时MP恢复速度大幅提升

### 3.2 技能获取方式

- 境界突破解锁
- 奇遇事件获得
- NPC传授
- 技能书学习
- 召唤兽共享

---

## 四、道具系统

### 4.1 装备分类

| 类型 | 说明 | 示例 |
|------|------|------|
| 武器 | 主要攻击装备 | 骑鹅圈 |
| 防具 | 各部位防具 | 头/身/手/脚 |
| 首饰 | 属性加成 | 小水滴 |
| 特效套装 | 集齐触发特殊效果 | 光明套装 |
| 持有道具 | 消耗品/材料/特殊物品 | 未鉴定的花环 |

### 4.2 道具品质

普通(白) → 优秀(绿) → 稀有(蓝) → 史诗(紫) → 传说(橙) → 神话(红)

---

## 五、关卡生成系统

### 5.1 环境要素驱动

关卡根据玩家当前环境要素动态生成：
- **地理位置**: 海边/森林/城市/沙漠...
- **天气**: 晴/雨/雪/雷暴...
- **时间**: 早晨/中午/傍晚/深夜
- **季节**: 春/夏/秋/冬

### 5.2 关卡类型示例

| 环境组合 | 生成关卡 |
|---------|---------|
| 海边 + 暴风雨 + 深夜 + 夏季 | 深海巨兽来袭！风暴中的海怪入侵 |
| 森林 + 晴天 + 早晨 + 春季 | 精灵的试炼，森林迷宫探索 |
| 城市 + 雾天 + 傍晚 + 秋季 | 迷雾中的暗影刺客，城市追逐战 |

---

## 六、召唤兽系统

### 6.1 海兽召唤物

**成长型召唤兽特点**
- 与玩家一同成长
- 可进化多个形态
- 拥有独立技能树
- 可参与战斗或探索

### 6.2 海兽进化路线示例

```
小海龟 → 玄武幼崽 → 玄武 → 神玄武
              ↓
海蛇幼崽 → 蛟龙 → 应龙
```

---

## 七、图鉴收集系统

### 7.1 图鉴分类

| 分类 | 内容 |
|------|------|
| 生物图鉴 | 海洋生物、陆地生物、魔物、神话生物 |
| 物品图鉴 | 武器、防具、首饰、套装、材料 |
| 技能图鉴 | 已学技能、未解锁技能 |
| 世界图鉴 | 地点、NPC、事件 |

### 7.2 图鉴奖励机制

- **单条目奖励**: 首次发现获得经验/金币
- **系列奖励**: 集齐某系列获得特殊道具
- **里程碑奖励**: 达到收集数量解锁称号/坐骑/技能
- **图鉴加成**: 收集越多，对应类型伤害/防御加成

---

## 八、交互架构

### 8.1 双端交互模式

| 功能 | Web前端 | Telegram |
|------|---------|----------|
| 角色创建 | ✅ 完整流程 | ✅ 简化流程 |
| 战斗系统 | ✅ 动画效果 | ✅ 文字版 |
| 图鉴浏览 | ✅ 图文并茂 | ❌ |
| 背包管理 | ✅ 拖拽操作 | ✅ 列表形式 |
| 地图探索 | ✅ 可视化地图 | ✅ 文字描述 |
| 实时通知 | ✅ 站内通知 | ✅ 推送消息 |
| 离线挂机 | ❌ | ✅ 结果推送 |

### 8.2 技术栈

**前端**: React 18 + TypeScript + Tailwind CSS + Vite
**后端**: FastAPI + PostgreSQL + Redis
**AI**: Claude API
**部署**: Docker

---

## 九、项目结构

```
chaossaga/
├── frontend/                    # Web前端
│   ├── src/
│   │   ├── components/          # UI组件
│   │   ├── pages/               # 页面
│   │   ├── stores/              # 状态管理
│   │   └── services/            # API调用
│   └── package.json
│
├── backend/                     # 后端服务
│   ├── api/                     # API层
│   ├── game/                    # 游戏核心
│   │   └── systems/             # 各系统模块
│   ├── ai/                      # AI引擎
│   ├── database/                # 数据库
│   └── telegram/                # Telegram Bot
│
├── shared/                      # 共享配置
│   └── game_data/               # 游戏数据JSON
│
├── docs/                        # 文档
└── docker-compose.yml
```
